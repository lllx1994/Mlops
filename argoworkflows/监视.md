要查看 EKS 集群的利用率并识别是否有被浪费的资源，可以使用以下工具和方法：

### 工具和服务

1. **Amazon CloudWatch**：
   - **监控 EKS 集群和节点的性能指标**。
   - **设置 CloudWatch Dashboard**：展示 CPU、内存、网络流量等指标。
   - **使用 CloudWatch Alarms**：设置告警来通知资源利用率高或低的情况。

2. **Kubernetes Metrics Server**：
   - **部署 Metrics Server**：收集集群的资源使用数据。
   - **使用 `kubectl top` 命令**：查看节点和 Pod 的实时资源使用情况。

   ```bash
   kubectl top nodes
   kubectl top pods
   ```

3. **Kubernetes Dashboard**：
   - **安装和配置 Kubernetes Dashboard**：可视化查看集群和节点的资源使用情况。

4. **AWS Cost Explorer**：
   - **分析 EKS 相关的费用**：包括 EC2 实例、存储和数据传输费用。
   - **设置预算和警报**：监控和优化与 EKS 相关的开销。

5. **Prometheus 和 Grafana**：
   - **Prometheus**：收集和存储时间序列数据。
   - **Grafana**：创建图表和仪表板，实时监控集群资源利用率。

### 实施步骤

1. **部署和配置上述工具**：确保所有工具正确安装和配置。
2. **创建和配置仪表板和警报**：在 CloudWatch 和 Grafana 中设置仪表板和警报，实时监控资源使用情况。
3. **分析资源使用情况**：定期查看监控数据，识别资源利用率低的节点和 Pod，调整资源分配策略。

通过这些工具和方法，你可以全面了解 EKS 集群的资源利用情况，识别浪费的资源，并进行优化。

在 Amazon CloudWatch 中，您可以查看以下内容来判断 EKS 集群的资源利用情况：

### 监控指标

1. **CPU Utilization**：
   - 查看节点和 Pod 的 CPU 利用率，识别是否有未充分利用的资源。

2. **Memory Utilization**：
   - 查看节点和 Pod 的内存利用率，判断是否存在内存资源浪费。

3. **Network Traffic**：
   - 监控网络流量，了解数据传输情况。

4. **Disk I/O**：
   - 查看磁盘读写操作，识别存储资源的使用情况。

### 日志监控

1. **Pod 和 Node 事件日志**：
   - 追踪 Pod 和节点的创建、删除和重启事件，分析资源的动态变化。

### 设置 CloudWatch Dashboard 和警报

1. **仪表板**：
   - 创建自定义仪表板，实时监控集群的关键性能指标。

2. **警报**：
   - 设置 CloudWatch Alarms，监控资源利用率和事件日志中的异常情况。

通过这些监控和分析，您可以更好地了解资源利用情况，并识别和优化可能被浪费的资源。

